function MagicWindowRayLauncher(camera) {
	this.raycaster = new THREE.Raycaster();
	this.rayCoord = new THREE.Vector2(0, 0);
	//always 0, 0 for cardboard, but could be different for magic window.
	this.ray = this.raycaster.ray;
	this.camera = camera;
}

MagicWindowRayLauncher.prototype = {
	getCollision: getCollision,
	updateRayCoord: updateRayCoord,
	onSelect: onSelect
};

function updateRayCoord(pos) {
	this.rayCoord.x = pos[0];
	this.rayCoord.y = pos[1];
}

function getCollision(colliders) {
	this.ray.origin.set(0, 0, 0);
	this.camera.localToWorld(this.ray.origin);
	this.raycaster.setFromCamera(this.rayCoord, this.camera);
	if(this.camera instanceof THREE.OrthographicCamera) {
		this.ray.origin.z = this.camera.far;
	}

	return this.raycaster.intersectObjects(colliders)[0];
}

function onSelect(e) {
	console.log('MAGIC WINDOW ON SELECT');
}

module.exports = MagicWindowRayLauncher;