uniform sampler2D mapTexture;
varying vec2 vUv;
varying float vOffsetY;
varying float vOffsetY2;
varying float vMix;
varying float vScale;

void main() {
	vec2 uv = vec2(abs(gl_PointCoord.x * 2.0 - 1.0), abs(gl_PointCoord.y * 2.0 - 1.0));
	float mixedV = uv.x + uv.y;
	mixedV = mixedV * vScale + (1.0 - vScale);
	vec4 color1 = texture2D(mapTexture, vec2(mixedV, vOffsetY));
	vec4 color2 = texture2D(mapTexture, vec2(mixedV, vOffsetY2));
	gl_FragColor = mix(color1, color2, vMix);
}
