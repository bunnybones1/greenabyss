var THREE = require('three');
var defaults = require('lodash.defaults');

var __defaultParams = {

};

var __geomtry;
function __getGeometry() {
	if(!__geomtry) {
		__geomtry = new THREE.BoxGeometry(1, 1, 1, 1, 1, 1);
	}
	return __geomtry;
}

var __material;
function __getMaterial() {
	if(!__material) {
		__material = new THREE.MeshBasicMaterial({
			color: 0xffffff,
			wireframe: true
		});
	}
	return __material;
}

function TestBox(params) {
	params = defaults(params, __defaultParams);

	var geometry = params.geometry || __getGeometry();
	var material = params.material || __getMaterial();

	THREE.Mesh.call(this, geometry, material);
}

TestBox.prototype = Object.create(THREE.Mesh.prototype);

TestBox.prototype.onEnterFrame = function() {
	this.rotation.y += 0.005;
}

module.exports = TestBox;