function imageColorSampler(imageData, x, y) {
		
	var index = y*imageData.width+x;
	var i = index*4;
	var d = imageData.data;
	var arr = [d[i],d[i+1],d[i+2]]; // returns array [R,G,B]

	return new THREE.Color(
		arr[0] / 255,
		arr[1] / 255,
		arr[2] / 255
	);
}

function createImageColorSampler(image) {
	var canvas = document.createElement('canvas');
	var w = image.width;
	var h = image.height;
	canvas.width = w;
	canvas.height = h;
	var context2d = canvas.getContext('2d');
	context2d.drawImage(image, 0, 0);

	var imageData = context2d.getImageData(0, 0, w, h);

	return imageColorSampler.bind(null, imageData);
}

module.exports = createImageColorSampler;